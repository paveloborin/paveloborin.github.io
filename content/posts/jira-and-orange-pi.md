---
title: "Система индивидуального планирования за 3000 руб на базе Orange Pi и Jira"
date: 2018-05-01T10:58:57+02:00
draft: false
tags: ["планирование", "jira", "orange pi"]
---

### Аннотация
Данная заметка посвящена дальнейшему развитию идеи использования JIRA в качестве системы для индивидуального планирования, описанной мною [ранее]({{< ref "posts/jira-for-individual-use.md">}}). 
А именно я бы хотел поделиться опытом развертывания этой системы на платформе Orange Pi.

### Вступление
В начале года я стал активно использовать JIRA для индивидуального планирования. 
Что сразу отозвалось повышением моей личной производителньости.
Через пару месяцев я решил, что старый ноутбук для этого не самое лучшее решение и можно сделать лучше. 

Я являюсь поклонником философии микросервисов; докер, контейнеры, кубернетис - наше все. 
И мне очень импонирует сама идея существования неким образом инкапсулированной системы, работающей на "отдельной" машине, не разделяющей больше ни с кем свои ресурсы. 
Будь моя воля я бы все "развязал" и превратил в микросервисы :).  
При этом содержать целый компьютер для такой системы как система планирования, которой пользуешься пару раз в день, не совсем адекватное решение: компьютер шумит, греется, требует отдельное место и потребляется довольно много энергии.
Да и честно говоря, после экспериментирования с Ардуино, мне уже давно хотелось поиграться с более мощными платами вроде Raspberry Pi или ее китайским аналогом Orange Pi, и дело стояло только за поиском способа ее применения. 

Цена, размеры, энергопотребление, неприхотливость к питанию и окружающим условиям позволяют создавать на базе Orange Pi самостоятельные портативные системы типа "поставил и забыл" требующие минимального обслуживания.   
Для JIRA с одним пользователем Orange Pi оказался просто идеальным вариантом. 


### Orange Pi
Orange Pi имеет довольно широкую линейку моделей.
Я заказывал самую мощную на тот момент модель - OrangePi Win Plus на [aliexpress](https://ru.aliexpress.com/item/Orange-Pi-Win-Plus-Development-Board-A64-Quad-core-Support-linux-and-android-Beyond-Raspberry-Pi/32803012893.html?spm=a2g0s.9042311.0.0.3ZdvMD). 
Через три недели коробочка с платой была уже у меня.  


![OrangePi Win Plus](/static/orangePi.jpg) 

OrangePi Win Plus  это плата размером с кредитную карту, имеющая на борту: 2Гб оперативной памяти, 4х ядерный процессор A64, bluetooth, видео и аудио выход, IR датчик, 4 разъема USB,  Wi-Fi модуль и  Ethernet 1Гб. 
Всего за 2000 руб вы получаете полноценный миникомпьютер, к которому, если необходимо, можно подключить и монитор.  

Питается OrangePi от microUSD (для своей я использовал старую зарядку от iPhone на 5V и 1.2А). 
Плата не имеет каких-либо систем охлаждения вроде кулеров или радиаторов, в принципе она спокойно будет работать и без них.


### Установка операционной системы и первый запуск
Процесс установки ОС выглядит достаточно просто. 
Нужно скачать дистрибутив одной из поддерживаемых операционных систем: ubuntu, debian, android, raspbian непосредственно с сайта ОС, либо использовать уже готовые сборки с сайта OrangePi. 
Записать образ на SD-карту (плата поддерживает карты до 64 ГБ). 
Желательно использовать карты 10 класса скорости. 

Далее я буду описывать установку серверной версии ubuntu без непосредственного подключения монитора и других устройств ввода-вывода к плате. 
Всю настройку мы будем осуществлять по ssh с компьютера, находящегося в одной сети с платой. 
Но с таким же успехом можно для управления подключить монитор и клавиатуру.

После включения платы, если вы правильно записали образ на SD-карту, начнется установка ОС, которая продлится несколько минут.  

Подключите плату к роутеру по витой паре, через панель управления роутера найдите плату 

![Настройка статического IP, 1](/static/router1.jpg) 

и установите для нее фиксированный Ip адрес

![Настройка статического IP, 2](/static/router2.jpg) 

, а также сразу задайте url в настройках DNS роутера, например, jira.loc, по нему вы будете заходить в свой планировщик. 
При желании настройте WiFi.

![Настройка DNS](/static/router3.jpg) 


Зайдете по ssh на OrangePi. 
Логин и пароль зависит от дистрибутива, который вы установили.

![Ssh orange pi](/static/terminal.jpg) 


### Установка JIRA
Для работы Jira понадобится установленная java машина версии не ниже 1.8, база данных mysql либо postgres, также можно на первое время использовать встроенную в jira бд.


Давайте все установим.

#### Обновление java

`sudo add-apt-repository ppa:webupd8team/java`

`sudo apt-get update`

`sudo apt-get install oracle-java8-installer`


#### Подготовка БД

Устновка postgresql

`sudo apt-get install postgresql postgresql-contrib`


Создание пользователя бд

`sudo -i -u postgres`

`createuser --interactive`

вводим Jiradbuser (superuser)


Создание базы

`Create db jiradb`

`psql`

`postgres=# GRANT ALL PRIVILEGES ON DATABASE jiradb TO jiradbuser`


Загрузка jira

`wget https://www.atlassian.com/software/jira/downloads/binary/atlassian-jira-software-7.9.0.tar.gz
 tar -xvf atlassian-jira-software-7.9.0.tar.gz 
 cd atlassian-jira-software-7.9.0-standalone/
 mkdir jirasoftware-home`

Отредактируйте  <installation-directory>\atlassian-jira\WEB-INF\classes\jira-application.properties, после jira.home пропишите абсолютный путь к ранее созданной папке:
jira.home=jirasoftware-home

Запуск скрипта установки
`/jira/atlassian-jira-software-7.9.0-standalone/bin$ ./start-jira.sh `


Далее Jira откроет http порт для прохождения пошаговой процедуры установки, теперь вы можете завершить работу с терминалаом и зайти по адресу jira.loc:port. 
Следуя инструкциям завершите установку. 
Выберите при установке триальную лицензию на 30 дней, в дальнейшем вы сможете купить “пожизненную” платную лицензию на 10 пользователей всего за 10$.

Поздравляю вы установили Jira на Orange Pi! 


### Организация работы с JIRA
Итак, за 3000 руб (Orange Pi - 1850, лицензия Jira - 650, карта памяти 500 руб) мы получили полноценную систему плнирования со следующими преимуществами:
 
 - можно находясь дома зайти в свой планировщик с любого устройства,
 
 - ваши данные только ваши и никуда не отправляются, 
 
 - вы полностью независимы от всех внешних ресурсов, кроме электричества.


В дальнейшем Вы можете сами придумать ваши процессы планирования: просто закидывать новые задачи в беклог и периодически их приоритизировать и брать в спринт, либо как-то разделять различные задачи по разным проектам. 
Лично мне удобно вообще все задачи, вплоть до похода в магазин, фиксировать в Jira, это привносит в жизнь некий порядок и дисциплину, но вы можете использовать, ее скажем  только для самых важных задач. 
В общем дальше все зависит только от полета вашей фантазии.


Например, при изучении чего-либо масштабного - книги или обучающего курса я обычно создаю эпик под эту цель и уже внутри эпика набрасывать тикеты в соответствии с содержанием книги. 
Потом по мере прохождения курса в тикетах удобно фиксировать свои мысли по поводу прочитанного. 
Это довольно удобно. 
Выглядит это все примерно так:

![Jira interface example](/static/jira2.jpg) 

#### Заключение

Возможно кто-то посчитает, что 3000 руб. это слишком дорого для таких целей или слишком заморочено, но эти деньги быстро окупятся повышением вашей продуктивности, а по сложности, это не сложнее использования других аналогичных системы, разобравшись один раз, вы можете использовать ее многие годы.